<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>伊一小站</title>
    <meta name="description" content="齐俊鑫个人博客">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/normalize.css ">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/header.css ">
    <link rel="stylesheet" href=" /css/footer.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="stylesheet" href=" /css/backToTop.css ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?ee94b48528a1796da91f8c0c193a73f3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-72449510-4', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="header-wrapper">
        <a href="/" class="brand"><img src="/img/avatar.jpg" alt=""><small>伊一小站</small></a>      
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a class="active" href="/">
                    
                        Home
                    </a>
                </li>

                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="container">
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2016/05/22/CSS-object-fit-object-position/">使用CSS的 object-fit 和object-position属性</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2016-05-22
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#CSS" title="Category: CSS" rel="category">CSS</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#object-fit--object-position" id="markdown-toc-object-fit--object-position">为什么使用 <code class="highlighter-rouge">object-fit</code> 和 <code class="highlighter-rouge">object-position</code>?</a></li>
  <li><a href="#object-fit-" id="markdown-toc-object-fit-"><code class="highlighter-rouge">object-fit</code> 属性</a>    <ul>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-fillhttpcodepeniositepointpenbkbgzz" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-fillhttpcodepeniositepointpenbkbgzz">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/BKbGZz/">Object Fit: Fill</a>。</a></li>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-containhttpcodepeniositepointpenzqbmzl" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-containhttpcodepeniositepointpenzqbmzl">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/zqbMzL/">Object Fit: Contain</a>。</a></li>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-coverhttpcodepeniositepointpengzewvj" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-coverhttpcodepeniositepointpengzewvj">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/GZewvJ/">Object Fit: Cover</a>。</a></li>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-nonehttpcodepeniositepointpenyowqop" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-nonehttpcodepeniositepointpenyowqop">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/yOwQoP/">Object Fit: None</a>。</a></li>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-scale-downhttpcodepeniositepointpenanmqyr" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-scale-downhttpcodepeniositepointpenanmqyr">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/aNMQyR/">Object Fit: scale-down</a>。</a></li>
    </ul>
  </li>
  <li><a href="#object-position" id="markdown-toc-object-position"><code class="highlighter-rouge">object-position</code>属性</a>    <ul>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-gzewmjhttpcodepeniositepointpengzewmj" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-gzewmjhttpcodepeniositepointpengzewmj">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/GZewMJ/">GZewMJ</a>。</a></li>
      <li><a href="#codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-animating-the-object-position-propertyhttpcodepeniositepointpenmyxzer" id="markdown-toc-codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-animating-the-object-position-propertyhttpcodepeniositepointpenmyxzer">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/MyxzEr/">Animating the object-position Property</a>。</a></li>
    </ul>
  </li>
  <li><a href="#section" id="markdown-toc-section">跨浏览器支持和兼容性</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">结论</a></li>
</ul>

<p>原文作者<a href="https://www.sitepoint.com/author/alaxmi/">Asha Laxmi</a>在文章<a href="https://www.sitepoint.com/using-css-object-fit-object-position-properties/">Using CSS’s object-fit and object-position Properties</a>中介绍了两个CSS属性：<code class="highlighter-rouge">object-fit</code>和<code class="highlighter-rouge">object-position</code>，有助于我们解决images和videos这类可置换元素在布局时遇到的尺寸和宽高比问题。在原来的工作中我也遇到过这种情况，如果图像作为内容出现，考虑到前端倡导的内容和样式分离，那么把图片设置成一个div的背景是不合适的。看了这篇文章才知道，利用<code class="highlighter-rouge">object-fit</code>和<code class="highlighter-rouge">object-position</code>为<code class="highlighter-rouge">img</code>标签书写css样式，可以起到类似于<code class="highlighter-rouge">background-size</code>和<code class="highlighter-rouge">background-position</code>的作用，很好地解决了这个问题。翻译出来和大家共享。</p>

<hr />
<p>以下是正文：</p>

<p>在给一个网站布局时，视频和图像很容易出现问题。</p>

<p>假设你在CSS里明确指定了一个图像的宽度。如果这个宽度是使用百分比或者视口单位（viewport units）指定的，同时图像的宽度设置成了<code class="highlighter-rouge">auto</code>，那么调整浏览器窗口的时候图像的宽高比不变。</p>

<p>然而有时候，可能你可用的空间有限，需要限制图像的高度。这种情况下调整浏览器窗口肯定会破坏图像的宽高比。</p>

<p>很多关于图像尺寸和宽高比的问题，包括我刚才提到的，可以使用CSS的 <a href="https://www.w3.org/TR/css3-images/#object-fit">object-fit</a> 和 <a href="https://www.w3.org/TR/css3-images/#object-position">object-position</a> 属性来解决。</p>

<p>这两个属性和我们熟悉的<code class="highlighter-rouge">background-size</code>和<code class="highlighter-rouge">background-position</code>属性比较类似。所以，即使你从没听说过，理解起来也不会很困难。</p>

<p>这两个属性都对可置换元素（replaced elements）起作用。然而，为了简洁起见，在这篇文章中，我们用images举例说明。</p>

<h2 id="object-fit--object-position">为什么使用 <code class="highlighter-rouge">object-fit</code> 和 <code class="highlighter-rouge">object-position</code>?</h2>

<p>你可能想知道明明可以使用<code class="highlighter-rouge">background-size</code> 和 <code class="highlighter-rouge">background-position</code>，为什么还要用这两个属性。事实上,至少有两个很好的理由。</p>

<p>首先，考虑这样一个场景，你有一张图片，它是一篇文章的一部分。如果图片的尺寸像之前描述的那样进行设置，调整浏览器窗口将会破坏它的宽高比。这种情况下，仅使用一个<code class="highlighter-rouge">img</code>标签是不够的，你需要使用一个带有<code class="highlighter-rouge">background-size</code> 和 <code class="highlighter-rouge">background-position</code>属性的div。</p>

<p>这种解决方案的问题就是你必须始终保证内容和表现分离，而background属性用于表现的。当你的图像实际上是内容的一部分时，使用<code class="highlighter-rouge">object-fit</code>和<code class="highlighter-rouge">object-position</code>以及<code class="highlighter-rouge">img</code>标签来实现相同的结果会更有意义。</p>

<p>另外一个理由是background属性不能应用于videos，但是<code class="highlighter-rouge">object-fit</code>和<code class="highlighter-rouge">object-position</code>可以。因此，当显示视频的时候，<code class="highlighter-rouge">object-fit</code>和<code class="highlighter-rouge">object-position</code>是你唯一的选择。</p>

<h2 id="object-fit-"><code class="highlighter-rouge">object-fit</code> 属性</h2>

<p>这个属性决定了像images和videos这样的可替换内容占据其content box空间的方式。它有5个可能的值：</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">fill</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">contain</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">cover</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">none</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">scale-down</code></p>
  </li>
</ul>

<p>使用这个属性的语法如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.fit-image {
  object-fit: fill|contain|cover|none|scale-down;
}
</code></pre>
</div>

<p>当设置成<code class="highlighter-rouge">fill</code>时，图像的大小会正好填满content box。这种情况下的图片高度等于content box本身的高度。这也是<code class="highlighter-rouge">object-fit</code>属性的初始值。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-fillhttpcodepeniositepointpenbkbgzz">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/BKbGZz/">Object Fit: Fill</a>。</h5>

<p><code class="highlighter-rouge">contain</code>重设图像的尺寸，在保持宽高比的情况下使其填充到content box中。这有两个目的，既避免了图像失真，又能保证图像在content box里。如果图片不能完全覆盖content box，背景色会填满剩余的空间。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-containhttpcodepeniositepointpenzqbmzl">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/zqbMzL/">Object Fit: Contain</a>。</h5>

<p><code class="highlighter-rouge">contain</code>适用的场景是，当你不知道图像的尺寸却仍想把它放到一个已知宽度的容器内时。</p>

<p>如果你想要在保证宽高比的情况下让图像完全填满它的content box，你应该用 <code class="highlighter-rouge">cover</code>属性。这种情况下，图片会缩放到较短边恰好适合containing box。溢出盒子的图像部分会被裁掉。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-coverhttpcodepeniositepointpengzewvj">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/GZewvJ/">Object Fit: Cover</a>。</h5>

<p>要使用图像本身的尺寸显示，忽略containing box设置的宽高值，你可以使用<code class="highlighter-rouge">none</code>。这种情况下的图像不会被重新设置大小。然而，如果图像的任何部分超出了它的containing box就会被裁掉。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-nonehttpcodepeniositepointpenyowqop">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/yOwQoP/">Object Fit: None</a>。</h5>

<p><code class="highlighter-rouge">object-fit</code>属性的最后一个值是<code class="highlighter-rouge">scale-down</code>。顾名思义，即按比例缩小图像，就像被设置成<code class="highlighter-rouge">none</code>或者<code class="highlighter-rouge">contain</code>，得到一个较小的图像。换句话说，如果我们图像的尺寸都小于其各自的containing box的尺寸，那么就会设置成<code class="highlighter-rouge">none</code>。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-object-fit-scale-downhttpcodepeniositepointpenanmqyr">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/aNMQyR/">Object Fit: scale-down</a>。</h5>

<h2 id="object-position"><code class="highlighter-rouge">object-position</code>属性</h2>

<p>正如前面看到的，<code class="highlighter-rouge">cover</code>属性会填满containing box的所有空间，并保持图像原有的宽高比。图像也会默认居中显示。这适用于聚焦点在中心的情况。但是，如果图像的聚焦点不在中心怎么办？</p>

<p><code class="highlighter-rouge">object-position</code>属性便可以帮上忙。它的工作原理就像<code class="highlighter-rouge">background-position</code>。下面的代码段将图像的位置设成了左上角：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.zero-zero {
  object-position: 0px 0px;
}
</code></pre>
</div>

<p>定义时可以用像素，也可以用百分比。例如，<code class="highlighter-rouge">object-position: 0% 0%</code>是左上角，<code class="highlighter-rouge">object-position: 100% 100%</code>是右下角。当你不知道图像的尺寸时，这样写很方便。</p>

<p>当图像的宽高比和containing box的宽高比很接近时，设置<code class="highlighter-rouge">object-position</code>似乎不会产生多大影响。然而，当宽高比差别很显著时，结果就会变得明显。下面的CodePen demo说明了我的观点。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-gzewmjhttpcodepeniositepointpengzewmj">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/GZewMJ/">GZewMJ</a>。</h5>

<p>在第二个例子中设置位置为左上角，可以聚焦到太阳上。</p>

<p>值得一提的是，<code class="highlighter-rouge">object-position</code>属性是可写入动画的，运用得当的话可以产生惊人的效果。考虑下面的代码：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>img {
  /* other CSS here... */
  object-fit: cover;
  object-position: 0% 0%;
  animation: ltr 5s alternate infinite;
}  

@keyframes ltr {
  0% {
    object-position: 0% 0%;
  }
  25% {
    object-position: 20% 0%;
  }
  100% {
    object-position: 100% 100%;
  }
}
</code></pre>
</div>

<p>这段代码里，我使用keyframe为图像位置做动画，如你所见，最终结果看起来很棒。</p>

<h5 id="codepenhttpcodepeniositepoint-sitepointhttpcodepeniositepoint-animating-the-object-position-propertyhttpcodepeniositepointpenmyxzer">在<a href="http://codepen.io">CodePen</a>上查看SitePoint (<a href="http://codepen.io/SitePoint">@SitePoint</a>) 的笔记<a href="http://codepen.io/SitePoint/pen/MyxzEr/">Animating the object-position Property</a>。</h5>

<p>这也可以应用到videos中，当焦点从一个人移到另一个人上时。</p>

<h2 id="section">跨浏览器支持和兼容性</h2>

<p>尽管这些属性经证明是非常有用的，但你是否能真正使用它们取决于<a href="http://caniuse.com/#feat=object-fit">你的浏览器是否支持</a>。<code class="highlighter-rouge">object-fit</code>可以被除了IE/Edge以外的所有主流浏览器支持，<code class="highlighter-rouge">object-position</code>可以被除了IE/Edge和Safari以外的所有主流浏览器支持。</p>

<p>一般来说，你可能恰好需要<code class="highlighter-rouge">object-fit</code>属性。如果你愿意牺牲一部分人的用户体验，那么你可以应用这个属性。如果你需要兼容旧的浏览器，可以试一试<a href="https://github.com/bfred-it/object-fit-images">the polyfill by Federico Brigante</a>。</p>

<h2 id="section-1">结论</h2>

<p>希望你们喜欢这篇教程和附带的演示。如果我遗漏了什么或者你想要补充些什么，可以给我留言。</p>

                </div>
                <div class="read-all">
                    <a  href="/2016/05/22/CSS-object-fit-object-position/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>


        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/1</span>
          
            <span class="next disable"><i class="fa fa-angle-right"></i></span>
            <span class="next disable"><i class="fa fa-angle-double-right"></i></span>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2016/05/22/CSS-object-fit-object-position/">使用CSS的 object-fit 和object-position属性</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#CSS" class="categories-list-item" cate="CSS">
                            <span class="name">
                                CSS
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                </ul>
            </div>

        </div>
    </div>
</div>


    <footer class="site-footer">
    <div class="footer-wrapper">   
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/qijunxin" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a> 
            <a href="mailto:1531211307@qq.com" target="_blank"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            <a href="http://weibo.com/qijunxin" target="_blank"><i class="fa fa-weibo" aria-hidden="true"></i></a> 
        </p>
        <p>
            本站总访问量 <span id="busuanzi_value_site_pv"></span> 次，本站访客数 <span id="busuanzi_value_site_uv"></span> 人次，本文总阅读量 <span id="busuanzi_value_page_pv"></span> 次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll"></a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/jquery-2.1.4-min.js " charset="utf-8"></script>
    <script src=" /js/makisu.min.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
